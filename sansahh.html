<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Sans Fight %100 original</title>
<style>
  body {
    background: black;
    color: white;
    text-align: center;
    font-family: monospace;
  }
  canvas {
    border: 2px solid white;
    background: #111;
  }
</style>
</head>
<body>

<h2>Sans Fight very offical</h2>
<p>sans undeertaal fight is so hard pls help</p>

<canvas id="game" width="500" height="300"></canvas>

<img id="sansImg"
src="https://static.wikia.nocookie.net/undertale/images/7/75/Sans_sprite.jpg/revision/latest?cb=20171201153125&path-prefix=tr"
style="display:none;">

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const sansImg = document.getElementById("sansImg");

let player = { x: 240, y: 250, size: 10, hp: 5 };
let bones = [];
let keys = {};
let gameOver = false;

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

function spawnBone() {
  bones.push({
    x: Math.random() * 490,
    y: -20,
    w: 8,
    h: 30,
    speed: 2 + Math.random() * 3
  });
}

function update() {
  if (gameOver) return;

  if (keys["ArrowLeft"]) player.x -= 3;
  if (keys["ArrowRight"]) player.x += 3;
  if (keys["ArrowUp"]) player.y -= 3;
  if (keys["ArrowDown"]) player.y += 3;

  player.x = Math.max(0, Math.min(490, player.x));
  player.y = Math.max(0, Math.min(290, player.y));

  bones.forEach(b => b.y += b.speed);
  bones = bones.filter(b => b.y < 320);

  bones.forEach(b => {
    if (
      player.x < b.x + b.w &&
      player.x + player.size > b.x &&
      player.y < b.y + b.h &&
      player.y + player.size > b.y
    ) {
      player.hp--;
      b.y = 400;
      if (player.hp <= 0) gameOver = true;
    }
  });

  if (Math.random() < 0.04) spawnBone();
}

function draw() {
  ctx.clearRect(0,0,500,300);
ctx.fillText("this game is %100 original trust me", 110, 290);

  // Sans
  if (sansImg.complete) {
    ctx.drawImage(sansImg, 220, 20, 60, 60);
  } else {
    ctx.fillStyle = "white";
    ctx.fillRect(220, 20, 60, 60);
  }

  // Player
  ctx.fillStyle = "red";
  ctx.fillRect(player.x, player.y, player.size, player.size);

  // Bones
  ctx.fillStyle = "white";
  bones.forEach(b => ctx.fillRect(b.x, b.y, b.w, b.h));

  ctx.fillStyle = "white";
  ctx.fillText("HP: " + player.hp, 10, 15);

  if (gameOver) {
    ctx.fillText("YOU DIED", 210, 150);
    ctx.fillText("Sans: hehehe", 190, 170);
    return;
  }

  requestAnimationFrame(loop);
}

function loop() {
  update();
  draw();
}

loop();
</script>

</body>
</html>
